<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>5-1. ç·åˆç†è§£åº¦ã‚¯ã‚¤ã‚º | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å­¦ç¿’ãƒ©ãƒ³ãƒ‰</title>
  <link rel="stylesheet" href="../../css/style.css">
  <link rel="stylesheet" href="../../css/components.css">
  <link rel="stylesheet" href="../../css/responsive.css">
  <style>
    .cq-progress { text-align: center; margin: 1rem 0; font-size: 0.9rem; color: var(--text-secondary); }
    .cq-progress-bar { height: 8px; background: #e0d8cf; border-radius: 4px; margin-top: 0.5rem; }
    .cq-progress-fill { height: 100%; background: var(--phase5-color); border-radius: 4px; transition: width 0.3s; }
    .cq-question-card {
      background: #fff;
      border: 2px solid #e0d8cf;
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1.5rem 0;
    }
    .cq-phase-tag {
      display: inline-block;
      font-size: 0.75rem;
      font-weight: 700;
      padding: 0.15rem 0.6rem;
      border-radius: 12px;
      margin-bottom: 0.5rem;
    }
    .cq-tag-p1 { background: #e8f5e9; color: #2e7d32; }
    .cq-tag-p2 { background: #e3f2fd; color: #1565c0; }
    .cq-tag-p3 { background: #fff3e0; color: #e65100; }
    .cq-tag-p4 { background: #f3e5f5; color: #6a1b9a; }
    .cq-q-num { font-weight: 700; color: var(--phase5-color); }
    .cq-q-text { font-size: 1.05rem; font-weight: 600; margin: 0.5rem 0 1rem; line-height: 1.7; }
    .cq-options { display: flex; flex-direction: column; gap: 0.5rem; }
    .cq-option {
      padding: 0.75rem 1rem;
      border: 2px solid #e0d8cf;
      border-radius: 8px;
      background: #fff;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
      font-family: inherit;
    }
    .cq-option:hover:not(:disabled) { border-color: var(--phase5-color); background: #fff5f5; }
    .cq-option.correct { border-color: #4caf50; background: #e8f5e9; color: #2e7d32; font-weight: 600; }
    .cq-option.incorrect { border-color: #ef5350; background: #fce4ec; color: #c62828; }
    .cq-option:disabled { cursor: default; opacity: 0.7; }
    .cq-option.correct:disabled, .cq-option.incorrect:disabled { opacity: 1; }
    .cq-explanation {
      margin-top: 1rem;
      padding: 1rem;
      background: #f9f6f2;
      border-radius: 8px;
      font-size: 0.9rem;
      line-height: 1.7;
      display: none;
    }
    .cq-explanation.visible { display: block; }
    .cq-next-btn {
      margin-top: 1rem;
      padding: 0.6rem 1.5rem;
      background: var(--phase5-color);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 700;
      cursor: pointer;
      display: none;
      font-family: inherit;
    }
    .cq-next-btn.visible { display: inline-block; }

    /* çµæœç”»é¢ */
    .cq-result { text-align: center; padding: 2rem; }
    .cq-result-score {
      font-size: 3rem;
      font-weight: 700;
      color: var(--phase5-color);
      margin: 1rem 0 0.5rem;
    }
    .cq-result-detail { font-size: 1.1rem; color: var(--text-secondary); }
    .cq-result-feedback {
      font-size: 1.2rem;
      margin: 1.5rem 0;
      padding: 1rem;
      border-radius: 12px;
      line-height: 1.7;
    }
    .cq-fb-excellent { background: #e8f5e9; }
    .cq-fb-good { background: #e3f2fd; }
    .cq-fb-fair { background: #fff3e0; }
    .cq-fb-poor { background: #fce4ec; }
    .cq-weakness { margin: 1.5rem 0; text-align: left; }
    .cq-weakness h4 { margin-bottom: 0.5rem; }
    .cq-weakness-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.5rem 0;
      border-bottom: 1px solid #e0d8cf;
      font-size: 0.9rem;
    }
    .cq-weakness-bar {
      flex: 1;
      height: 1rem;
      background: #e0d8cf;
      border-radius: 4px;
      overflow: hidden;
    }
    .cq-weakness-fill { height: 100%; border-radius: 4px; }
    .cq-retry-btn {
      margin-top: 1.5rem;
      padding: 0.75rem 2rem;
      background: var(--phase5-color);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      font-family: inherit;
    }
  </style>
</head>
<body data-phase="5">
  <header class="site-header">
    <div class="container">
      <a href="../../index.html" class="site-logo"><span class="owl-icon">ğŸ¦‰</span><span>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å­¦ç¿’ãƒ©ãƒ³ãƒ‰</span></a>
      <button class="nav-toggle" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã" aria-expanded="false">â˜°</button>
      <nav><ul class="nav-links">
        <li><a href="../../index.html">ãƒ›ãƒ¼ãƒ </a></li>
        <li><a href="../phase1/index.html">Phase 1</a></li>
        <li><a href="../phase2/index.html">Phase 2</a></li>
        <li><a href="../phase3/index.html">Phase 3</a></li>
        <li><a href="../phase4/index.html">Phase 4</a></li>
        <li><a href="index.html" class="active">Phase 5</a></li>
      </ul></nav>
    </div>
  </header>

  <main class="topic-page">
    <div class="container">
      <nav class="breadcrumb" aria-label="ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ">
        <a href="../../index.html">ãƒ›ãƒ¼ãƒ </a>
        <span class="separator">/</span>
        <a href="index.html">Phase 5</a>
        <span class="separator">/</span>
        <span class="current">5-1. ç·åˆç†è§£åº¦ã‚¯ã‚¤ã‚º</span>
      </nav>

      <h1>5-1. ç·åˆç†è§£åº¦ã‚¯ã‚¤ã‚º</h1>

      <div class="owl-box owl-intro">
        <div class="owl-box-content">
          <p class="owl-box-title">ãƒ•ã‚¯ãƒ­ã‚¦å…ˆç”Ÿã‚ˆã‚Š</p>
          <p>Phase 1ã€œ4ã§å­¦ã‚“ã çŸ¥è­˜ã‚’æ¨ªæ–­çš„ã«ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚å…¨20å•ï¼ˆå„Phaseã‹ã‚‰5å•ãšã¤ï¼‰ã€‚è½ã¡ç€ã„ã¦ã€è‡ªä¿¡ã‚’æŒã£ã¦ç­”ãˆã¦ãã ã•ã„ã­ã€‚é–“é•ãˆãŸå•é¡Œã¯å¼±ç‚¹ã¨ã—ã¦ç‰¹å®šã™ã‚‹ã®ã§ã€å¾©ç¿’ã®ã‚¬ã‚¤ãƒ‰ã«ãªã‚Šã¾ã™ã‚ˆï¼</p>
        </div>
      </div>

      <div id="quizContainer"></div>

      <div class="page-nav" id="pageNav" style="display: none;">
        <a href="index.html" class="page-nav-prev">
          <span class="page-nav-label">Phase 5 ãƒˆãƒƒãƒ—</span>
          <span class="page-nav-title">æ—…ã®æ¡ˆå†…äººã«ãªã‚‹</span>
        </a>
        <a href="02-case-study-manufacturing.html" class="page-nav-next">
          <span class="page-nav-label">æ¬¡ã®ãƒˆãƒ”ãƒƒã‚¯</span>
          <span class="page-nav-title">5-2. ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ï¼šè£½é€ æ¥­IoTåŸºç›¤</span>
        </a>
      </div>
    </div>
  </main>

  <footer class="site-footer"><div class="container"><p>å­¦ç¿’ã®é€²æ—ã¯è‡ªå‹•ä¿å­˜ã•ã‚Œã¾ã™ ğŸ¦‰</p><p>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å­¦ç¿’ãƒ©ãƒ³ãƒ‰ &copy; 2025</p></div></footer>
  <script src="../../js/progress.js"></script>
  <script src="../../js/app.js"></script>
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const questions = [
      // Phase 1 (5å•)
      { phase: 1, q: 'ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®3ã¤ã®å±¤ã«å«ã¾ã‚Œãªã„ã‚‚ã®ã¯ï¼Ÿ', opts: ['ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤', 'ãƒ‡ãƒ¼ã‚¿å±¤', 'ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å±¤', 'ã‚¤ãƒ³ãƒ•ãƒ©å±¤'], correct: 2, explanation: 'ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®3å±¤ã¯ã€Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã€ã€Œãƒ‡ãƒ¼ã‚¿å±¤ã€ã€Œã‚¤ãƒ³ãƒ•ãƒ©å±¤ã€ã§ã™ã€‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å±¤ã¯ã‚¤ãƒ³ãƒ•ãƒ©å±¤ã®ä¸€éƒ¨ã¨ã—ã¦å«ã¾ã‚Œã¾ã™ã€‚' },
      { phase: 1, q: 'ãƒ‡ãƒ¼ã‚¿ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®æ­£ã—ã„é †åºã¯ï¼Ÿ', opts: ['ç”Ÿæˆâ†’è“„ç©â†’åé›†â†’æ´»ç”¨â†’å»ƒæ£„', 'ç”Ÿæˆâ†’åé›†â†’åŠ å·¥â†’è“„ç©â†’æ´»ç”¨â†’å»ƒæ£„', 'åé›†â†’ç”Ÿæˆâ†’è“„ç©â†’åŠ å·¥â†’æ´»ç”¨', 'ç”Ÿæˆâ†’åŠ å·¥â†’åé›†â†’è“„ç©â†’å»ƒæ£„'], correct: 1, explanation: 'ãƒ‡ãƒ¼ã‚¿ã¯ã€Œç”Ÿæˆâ†’åé›†â†’åŠ å·¥â†’è“„ç©â†’æ´»ç”¨â†’å»ƒæ£„ã€ã®é †ã§ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’çµŒã¾ã™ã€‚' },
      { phase: 1, q: 'ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æœ€å¤§ã®ç‰¹å¾´ã¯ï¼Ÿ', opts: ['1ã¤ã®DBã‚’å…¨ã‚µãƒ¼ãƒ“ã‚¹ã§å…±æœ‰ã™ã‚‹', 'å„ã‚µãƒ¼ãƒ“ã‚¹ãŒç‹¬ç«‹ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ã‚¹ã‚±ãƒ¼ãƒ«å¯èƒ½', 'ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ã§å‹•ä½œã™ã‚‹', 'å¸¸ã«ãƒ¢ãƒãƒªã‚¹ã‚ˆã‚Šé«˜æ€§èƒ½'], correct: 1, explanation: 'ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®æœ€å¤§ã®ç‰¹å¾´ã¯å„ã‚µãƒ¼ãƒ“ã‚¹ã®ç‹¬ç«‹æ€§ã§ã™ã€‚ç‹¬ç«‹ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ã‚¹ã‚±ãƒ¼ãƒ«ã§ãã€æŠ€è¡“é¸æŠã‚‚è‡ªç”±ã§ã™ã€‚' },
      { phase: 1, q: 'SaaS/PaaS/IaaSã®ã†ã¡ã€æœ€ã‚‚åˆ©ç”¨è€…ã®ç®¡ç†è² è·ãŒä½ã„ã®ã¯ï¼Ÿ', opts: ['IaaS', 'PaaS', 'SaaS', 'ã™ã¹ã¦åŒã˜'], correct: 2, explanation: 'SaaSã¯ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ãã®ã¾ã¾ä½¿ã†ã ã‘ãªã®ã§ç®¡ç†è² è·ãŒæœ€ã‚‚ä½ã„ã§ã™ã€‚IaaS > PaaS > SaaSã®é †ã«ç®¡ç†è² è·ãŒä¸‹ãŒã‚Šã¾ã™ã€‚' },
      { phase: 1, q: 'REST APIã®ç‰¹å¾´ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ï¼Ÿ', opts: ['ãƒã‚¤ãƒŠãƒªå½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ã‚’é€å—ä¿¡ã™ã‚‹', 'HTTPãƒ™ãƒ¼ã‚¹ã§URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ã‚„ã‚Šå–ã‚Šã™ã‚‹', 'å¸¸æ™‚æ¥ç¶šãŒå¿…è¦', 'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚­ãƒ¥ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹'], correct: 1, explanation: 'REST APIã¯HTTPãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ™ãƒ¼ã‚¹ã§ã€URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦JSONç­‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚„ã‚Šå–ã‚Šã—ã¾ã™ã€‚Webã®ä»•çµ„ã¿ã®å»¶é•·ç·šä¸Šã«ã‚ã‚‹æœ€ã‚‚ä¸€èˆ¬çš„ãªAPIå½¢å¼ã§ã™ã€‚' },
      // Phase 2 (5å•)
      { phase: 2, q: 'SLA 99.9%ã®å ´åˆã€å¹´é–“ã§è¨±å®¹ã•ã‚Œã‚‹ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ã¯ç´„ä½•æ™‚é–“ï¼Ÿ', opts: ['ç´„53åˆ†', 'ç´„8.7æ™‚é–“', 'ç´„3.6æ—¥', 'ç´„87æ™‚é–“'], correct: 1, explanation: '99.9%ã®SLAã§ã¯å¹´é–“ç´„8.7æ™‚é–“ã®ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒè¨±å®¹ã•ã‚Œã¾ã™ã€‚9ã®æ•°ãŒ1ã¤å¢—ãˆã‚‹ã”ã¨ã«10å€å³ã—ããªã‚Šã¾ã™ã€‚' },
      { phase: 2, q: 'ã€Œã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã€ã¨ã¯ã©ã®ã‚ˆã†ãªå¯¾å¿œï¼Ÿ', opts: ['ã‚µãƒ¼ãƒãƒ¼ã®CPU/ãƒ¡ãƒ¢ãƒªã‚’å¢—å¼·ã™ã‚‹', 'ã‚µãƒ¼ãƒãƒ¼ã®å°æ•°ã‚’å¢—ã‚„ã—ã¦è² è·åˆ†æ•£ã™ã‚‹', 'ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’è¿½åŠ ã™ã‚‹', 'CDNã‚’å°å…¥ã™ã‚‹'], correct: 1, explanation: 'ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆï¼ˆæ°´å¹³ã‚¹ã‚±ãƒ¼ãƒ«ï¼‰ã¯ã‚µãƒ¼ãƒãƒ¼ã®å°æ•°ã‚’å¢—ã‚„ã—ã¦è² è·ã‚’åˆ†æ•£ã™ã‚‹æ–¹æ³•ã§ã™ã€‚å¯¾ã—ã¦ã€1å°ã®ã‚¹ãƒšãƒƒã‚¯ã‚’ä¸Šã’ã‚‹ã®ãŒã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ï¼ˆå‚ç›´ã‚¹ã‚±ãƒ¼ãƒ«ï¼‰ã§ã™ã€‚' },
      { phase: 2, q: 'ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¢ãƒ‡ãƒ«ã®åŸºæœ¬çš„ãªè€ƒãˆæ–¹ã¯ï¼Ÿ', opts: ['ç¤¾å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯ä¿¡é ¼ã™ã‚‹', 'ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã®å¤–ã ã‘æ¤œè¨¼ã™ã‚‹', 'ã™ã¹ã¦ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æ¯å›æ¤œè¨¼ã™ã‚‹', 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å®šæœŸå¤‰æ›´ã™ã‚‹'], correct: 2, explanation: 'ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆã¯ã€Œä¿¡é ¼ã—ãªã„ã€å¸¸ã«æ¤œè¨¼ã™ã‚‹ã€ãŒåŸºæœ¬ã€‚ç¤¾å†…/ç¤¾å¤–ã«é–¢ã‚ã‚‰ãšã€ã™ã¹ã¦ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æ¯å›èªè¨¼ãƒ»èªå¯ã—ã¾ã™ã€‚' },
      { phase: 2, q: 'RPOï¼ˆç›®æ¨™å¾©æ—§åœ°ç‚¹ï¼‰ãŒ1æ™‚é–“ã¨ã¯ã©ã†ã„ã†æ„å‘³ï¼Ÿ', opts: ['éšœå®³ã‹ã‚‰1æ™‚é–“ä»¥å†…ã«å¾©æ—§ã™ã‚‹', 'æœ€æ‚ª1æ™‚é–“åˆ†ã®ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹', '1æ™‚é–“ã”ã¨ã«ã‚·ã‚¹ãƒ†ãƒ ã‚’å†èµ·å‹•ã™ã‚‹', '1æ™‚é–“ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ ã‚’è¨­ã‘ã‚‹'], correct: 1, explanation: 'RPOã¯ãƒ‡ãƒ¼ã‚¿ã®å¾©æ—§åœ°ç‚¹ã§ã™ã€‚RPO 1æ™‚é–“ã¯ã€Œæœ€æ‚ªã§ã‚‚1æ™‚é–“å‰ã®çŠ¶æ…‹ã¾ã§æˆ»ã›ã‚‹ã€ã¨ã„ã†æ„å‘³ã€‚RTOãŒå¾©æ—§æ™‚é–“ã€RPOãŒå¾©æ—§åœ°ç‚¹ã§ã™ã€‚' },
      { phase: 2, q: 'ã‚·ã‚¹ãƒ†ãƒ ã®é‹ç”¨ä¿å®ˆè²»ç”¨ã¯é–‹ç™ºè²»ç”¨ã®ä½•å€ç¨‹åº¦ã‹ã‹ã‚‹ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ', opts: ['0.5å€', '1ã€œ1.5å€', '1.5ã€œ2å€', '3ã€œ4å€'], correct: 2, explanation: 'é‹ç”¨ä¿å®ˆè²»ç”¨ã¯é–‹ç™ºè²»ç”¨ã®1.5ã€œ2å€ã‹ã‹ã‚‹ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚ã€Œä½œã£ã¦çµ‚ã‚ã‚Šã€ã§ã¯ãªãã€TCOï¼ˆç·æ‰€æœ‰ã‚³ã‚¹ãƒˆï¼‰ã§è€ƒãˆã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚' },
      // Phase 3 (5å•)
      { phase: 3, q: 'è£½é€ æ¥­ã®DXèª²é¡Œã¨ã—ã¦æœ€ã‚‚ä¸€èˆ¬çš„ãªã‚‚ã®ã¯ï¼Ÿ', opts: ['SNSãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°', 'è¨­å‚™ã®äºˆçŸ¥ä¿å…¨ãƒ»ç¨¼åƒç‡å‘ä¸Š', 'ECã‚µã‚¤ãƒˆæ§‹ç¯‰', 'ãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯é€£æº'], correct: 1, explanation: 'è£½é€ æ¥­ã®DXã§ã¯ã€IoTã‚»ãƒ³ã‚µãƒ¼ã«ã‚ˆã‚‹è¨­å‚™ãƒ‡ãƒ¼ã‚¿åé›†ã¨äºˆçŸ¥ä¿å…¨ï¼ˆæ•…éšœã‚’äºˆæ¸¬ã—ã¦äº‹å‰ã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ï¼‰ãŒæœ€ã‚‚ä¸€èˆ¬çš„ãªèª²é¡Œã§ã™ã€‚' },
      { phase: 3, q: 'ãƒ’ã‚¢ãƒªãƒ³ã‚°ã§ã€Œ24æ™‚é–“365æ—¥æ­¢ã‚ã‚‰ã‚Œãªã„ã€ã¨è¨€ã‚ã‚ŒãŸå ´åˆã€æœ€åˆã«ç¢ºèªã™ã¹ãã“ã¨ã¯ï¼Ÿ', opts: ['ã‚µãƒ¼ãƒãƒ¼ã®å°æ•°', 'é–‹ç™ºè¨€èª', 'æœ¬å½“ã«24/365ãŒå¿…è¦ã‹ã€è¨±å®¹ã§ãã‚‹ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ã¯ãªã„ã‹', 'ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ™ãƒ³ãƒ€ãƒ¼ã®é¸å®š'], correct: 2, explanation: 'ã€Œ24/365ã€ã¯æœ¬å½“ã«å…¨æ™‚é–“å¸¯ã§å¿…è¦ã‹ç¢ºèªã™ã‚‹ã“ã¨ãŒæœ€é‡è¦ã§ã™ã€‚æ·±å¤œå¸¯ã¯è¨±å®¹ã§ãã‚‹å ´åˆã‚‚å¤šãã€å¯ç”¨æ€§ãƒ¬ãƒ™ãƒ«ã®é•ã„ã¯ã‚³ã‚¹ãƒˆã«å¤§ããå½±éŸ¿ã—ã¾ã™ã€‚' },
      { phase: 3, q: 'ãƒ‡ã‚£ã‚·ã‚¸ãƒ§ãƒ³ãƒ„ãƒªãƒ¼ã§æœ€åˆã«åˆ¤æ–­ã™ã¹ãè»¸ã¯ï¼Ÿ', opts: ['åŒæ™‚æ¥ç¶šæ•°', 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ã®è¦å¦', 'ãƒ‡ãƒ¼ã‚¿ä¸€è²«æ€§', 'æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ é€£æº'], correct: 1, explanation: 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ã®è¦å¦ã¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ ¹å¹¹ã‚’æ±ºã‚ã‚‹æœ€é‡è¦è¦ç´ ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å¤§ããç•°ãªã‚‹æ§‹æˆãƒ‘ã‚¿ãƒ¼ãƒ³ã«åˆ†å²ã—ã¾ã™ã€‚' },
      { phase: 3, q: 'æ§‹æˆå›³ã§SPOFï¼ˆå˜ä¸€éšœå®³ç‚¹ï¼‰ã‚’è¦‹ã¤ã‘ã‚‹ã«ã¯ï¼Ÿ', opts: ['çŸ¢å°ã®å‘ãã‚’ç¢ºèªã™ã‚‹', 'ä½¿ã‚ã‚Œã¦ã„ã‚‹æŠ€è¡“åã‚’ç¢ºèªã™ã‚‹', '1å°ã—ã‹ãªã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¢ã™', 'å¤–éƒ¨é€£æºã®æœ‰ç„¡ã‚’ç¢ºèªã™ã‚‹'], correct: 2, explanation: 'SPOFã¯ã€Œ1ç®‡æ‰€ãŒå£Šã‚Œã‚‹ã¨å…¨ä½“ãŒæ­¢ã¾ã‚‹ã€ãƒã‚¤ãƒ³ãƒˆã€‚æ§‹æˆå›³ã§1å°ã—ã‹ãªã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¢ã™ã“ã¨ã§ç™ºè¦‹ã§ãã¾ã™ã€‚' },
      { phase: 3, q: 'æ§‹æˆå›³ã‚’èª­ã‚€5ã¤ã®ç¢ºèªè¦³ç‚¹ã«å«ã¾ã‚Œãªã„ã®ã¯ï¼Ÿ', opts: ['å†—é•·åŒ–', 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¢ƒç•Œ', 'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª', 'å¤–éƒ¨é€£æº'], correct: 2, explanation: '5ã¤ã®ç¢ºèªè¦³ç‚¹ã¯ã€Œå†—é•·åŒ–ãƒ»ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¢ƒç•Œãƒ»ã‚¹ã‚±ãƒ¼ãƒ«ãƒã‚¤ãƒ³ãƒˆãƒ»å¤–éƒ¨é€£æºã€ã§ã™ã€‚ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¯æ§‹æˆå›³ã‹ã‚‰ã¯èª­ã¿å–ã‚Œã¾ã›ã‚“ã€‚' },
      // Phase 4 (5å•)
      { phase: 4, q: 'ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™ºã§ä¸€èˆ¬çš„ãªå¥‘ç´„å½¢æ…‹ã¯ï¼Ÿ', opts: ['ä¸€æ‹¬è«‹è² ', 'æº–å§”ä»»ï¼ˆãƒ©ãƒœå‹ï¼‰', 'æˆæœå ±é…¬å‹', 'ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¥‘ç´„'], correct: 1, explanation: 'ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ã¯è¦ä»¶ãŒå¤‰åŒ–ã™ã‚‹ã“ã¨ã‚’å‰æã¨ã™ã‚‹ãŸã‚ã€æˆæœç‰©ã§ã¯ãªãä½œæ¥­æ™‚é–“ã«å¯¾ã—ã¦æ”¯æ‰•ã†æº–å§”ä»»å¥‘ç´„ãŒé©ã—ã¦ã„ã¾ã™ã€‚' },
      { phase: 4, q: 'è¦‹ç©ã‚‚ã‚Šã®ãƒãƒƒãƒ•ã‚¡ã‚’å®‰æ˜“ã«å‰Šã‚‹ãƒªã‚¹ã‚¯ã¯ï¼Ÿ', opts: ['é–‹ç™ºé€Ÿåº¦ãŒä¸‹ãŒã‚‹', 'å“è³ªãŒä¸ŠãŒã‚Šã™ãã‚‹', 'ä»•æ§˜å¤‰æ›´ç™ºç”Ÿæ™‚ã«å³è¿½åŠ è²»ç”¨ãŒç™ºç”Ÿã™ã‚‹', 'ç‰¹ã«ãƒªã‚¹ã‚¯ã¯ãªã„'], correct: 2, explanation: 'ãƒãƒƒãƒ•ã‚¡ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¿é™ºã§ã™ã€‚å‰Šã‚‹ã¨æƒ³å®šå¤–ã®äº‹æ…‹ãŒç™ºç”Ÿã—ãŸç¬é–“ã«è¿½åŠ è¦‹ç©ã‚‚ã‚ŠãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚' },
      { phase: 4, q: 'ã€ŒæŠ€è¡“çš„è² å‚µã€ã¨ã¯ï¼Ÿ', opts: ['ITæ©Ÿå™¨ã®ãƒªãƒ¼ã‚¹æ–™æœªæ‰•ã„', 'éå»ã®è¨­è¨ˆåˆ¤æ–­ã®ãƒ„ã‚±ã§æ”¹ä¿®ãŒå›°é›£ãªçŠ¶æ…‹', 'æœ€æ–°æŠ€è¡“ã‚’ä½¿ã„ã™ãã¦ã„ã‚‹çŠ¶æ…‹', 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è„†å¼±æ€§'], correct: 1, explanation: 'æŠ€è¡“çš„è² å‚µã¯ã€æ€¥ã„ã§ä½œã£ãŸã‚Šã—ãŸéå»ã®åˆ¤æ–­ã®ãƒ„ã‚±ãŒæºœã¾ã‚Šã€å°†æ¥ã®æ©Ÿèƒ½è¿½åŠ ã‚„ä¿®æ­£ã«ä½™è¨ˆãªå·¥æ•°ãŒã‹ã‹ã‚‹çŠ¶æ…‹ã‚’æŒ‡ã—ã¾ã™ã€‚' },
      { phase: 4, q: 'ã‚¢ãƒ¼ã‚­ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¼šè­°ã§å–¶æ¥­ãŒæœ€ã‚‚ä¾¡å€¤ã‚’ç™ºæ®ã§ãã‚‹è¦³ç‚¹ã¯ï¼Ÿ', opts: ['ã‚³ãƒ¼ãƒ‰ã®å“è³ªãƒã‚§ãƒƒã‚¯', 'ä½¿ç”¨ã™ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®é¸å®š', 'é¡§å®¢è¦ä»¶ãƒ»äºˆç®—ãƒ»ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã®æ•´åˆç¢ºèª', 'ãƒ†ã‚¹ãƒˆè¨ˆç”»ã®ç­–å®š'], correct: 2, explanation: 'å–¶æ¥­ã®å¼·ã¿ã¯ã€ŒãŠå®¢æ§˜ã®è¦æœ›ãƒ»äºˆç®—ãƒ»ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã‚’æœ€ã‚‚ã‚ˆãçŸ¥ã£ã¦ã„ã‚‹ã“ã¨ã€‚ãƒ“ã‚¸ãƒã‚¹è¦–ç‚¹ã§ã®ãƒã‚§ãƒƒã‚¯ãŒå–¶æ¥­ãªã‚‰ã§ã¯ã®è²¢çŒ®ã§ã™ã€‚' },
      { phase: 4, q: 'ãŠå®¢æ§˜ã«æŠ€è¡“çš„ãªæ±ºå®šã‚’å ±å‘Šã™ã‚‹éš›ã€æœ€ã‚‚é©åˆ‡ãªä¼ãˆæ–¹ã¯ï¼Ÿ', opts: ['æŠ€è¡“ç”¨èªã‚’ãã®ã¾ã¾ä½¿ã„æ­£ç¢ºã«ä¼ãˆã‚‹', 'ãŠå®¢æ§˜ã«ã¨ã£ã¦ã®ãƒ¡ãƒªãƒƒãƒˆãƒ»å½±éŸ¿ã«ç¿»è¨³ã—ã¦ä¼ãˆã‚‹', 'æŠ€è¡“çš„ãªè©±ã¯é¿ã‘çµè«–ã ã‘ä¼ãˆã‚‹', 'é–‹ç™ºãƒãƒ¼ãƒ ã‹ã‚‰ç›´æ¥èª¬æ˜ã—ã¦ã‚‚ã‚‰ã†'], correct: 1, explanation: 'ãŠå®¢æ§˜ã¯æŠ€è¡“åã§ã¯ãªãã€Œè‡ªåˆ†ãŸã¡ã«ã¨ã£ã¦ã©ã‚“ãªãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã‹ã€ã‚’çŸ¥ã‚ŠãŸã„ã®ã§ã™ã€‚æŠ€è¡“çš„åˆ¤æ–­ã‚’ãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒªãƒƒãƒˆã«ç¿»è¨³ã—ã¦ä¼ãˆã¾ã—ã‚‡ã†ã€‚' }
    ];

    const container = document.getElementById('quizContainer');
    let currentQ = 0;
    let scores = { 1: 0, 2: 0, 3: 0, 4: 0 };
    let totals = { 1: 5, 2: 5, 3: 5, 4: 5 };
    let totalCorrect = 0;

    function renderQuestion() {
      if (currentQ >= questions.length) {
        showResults();
        return;
      }
      const q = questions[currentQ];
      const phaseColors = { 1: 'cq-tag-p1', 2: 'cq-tag-p2', 3: 'cq-tag-p3', 4: 'cq-tag-p4' };
      const phaseNames = { 1: 'Phase 1: åŸºç¤', 2: 'Phase 2: éæ©Ÿèƒ½è¦ä»¶', 3: 'Phase 3: è¨­è¨ˆ', 4: 'Phase 4: å”è­°åŠ›' };

      container.innerHTML = `
        <div class="cq-progress">
          <span>${currentQ + 1} / ${questions.length} å•</span>
          <div class="cq-progress-bar"><div class="cq-progress-fill" style="width:${((currentQ) / questions.length) * 100}%"></div></div>
        </div>
        <div class="cq-question-card">
          <span class="cq-phase-tag ${phaseColors[q.phase]}">${phaseNames[q.phase]}</span>
          <p class="cq-q-text"><span class="cq-q-num">Q${currentQ + 1}.</span> ${q.q}</p>
          <div class="cq-options" id="cqOptions">
            ${q.opts.map((o, i) => `<button class="cq-option" data-idx="${i}">${o}</button>`).join('')}
          </div>
          <div class="cq-explanation" id="cqExplanation">${q.explanation}</div>
          <button class="cq-next-btn" id="cqNext">${currentQ < questions.length - 1 ? 'æ¬¡ã®å•é¡Œã¸ â†’' : 'çµæœã‚’è¦‹ã‚‹ â†’'}</button>
        </div>
      `;

      document.querySelectorAll('.cq-option').forEach(btn => {
        btn.addEventListener('click', () => handleAnswer(parseInt(btn.dataset.idx)));
      });
      document.getElementById('cqNext').addEventListener('click', () => { currentQ++; renderQuestion(); });
    }

    function handleAnswer(idx) {
      const q = questions[currentQ];
      const btns = document.querySelectorAll('.cq-option');
      btns.forEach(b => {
        b.disabled = true;
        const bIdx = parseInt(b.dataset.idx);
        if (bIdx === q.correct) b.classList.add('correct');
        if (bIdx === idx && idx !== q.correct) b.classList.add('incorrect');
      });
      if (idx === q.correct) {
        scores[q.phase]++;
        totalCorrect++;
      }
      document.getElementById('cqExplanation').classList.add('visible');
      document.getElementById('cqNext').classList.add('visible');
    }

    function showResults() {
      const pct = Math.round((totalCorrect / questions.length) * 100);
      let fbText, fbClass;
      if (pct >= 90) { fbText = 'ğŸ¦‰ğŸ‰ ç´ æ™´ã‚‰ã—ã„ï¼ã‚‚ã†ç«‹æ´¾ãªã‚¢ãƒ¼ã‚­æ¡ˆå†…äººã ã­ï¼'; fbClass = 'cq-fb-excellent'; }
      else if (pct >= 70) { fbText = 'ğŸ¦‰âœ¨ ã„ã„ç·šã„ã£ã¦ã‚‹ï¼é–“é•ãˆãŸã¨ã“ã‚ã‚’å¾©ç¿’ã—ã¦ã¿ã‚ˆã†'; fbClass = 'cq-fb-good'; }
      else if (pct >= 50) { fbText = 'ğŸ¦‰ğŸ“š åŸºç¤ã¯ç†è§£ã§ãã¦ã‚‹ã­ã€‚ã‚‚ã†å°‘ã—å¾©ç¿’ã™ã‚‹ã¨ãƒãƒƒãƒãƒª'; fbClass = 'cq-fb-fair'; }
      else { fbText = 'ğŸ¦‰ğŸ¤” ã‚‚ã†ä¸€åº¦Phase1ã‹ã‚‰æŒ¯ã‚Šè¿”ã£ã¦ã¿ã‚ˆã†ã€‚ç„¦ã‚‰ãªãã¦å¤§ä¸ˆå¤«ï¼'; fbClass = 'cq-fb-poor'; }

      const phaseLinks = {
        1: '../phase1/index.html', 2: '../phase2/index.html',
        3: '../phase3/index.html', 4: '../phase4/index.html'
      };
      const phaseNames = { 1: 'Phase 1: åŸºç¤', 2: 'Phase 2: éæ©Ÿèƒ½è¦ä»¶', 3: 'Phase 3: è¨­è¨ˆ', 4: 'Phase 4: å”è­°åŠ›' };
      const phaseBarColors = { 1: '#4caf50', 2: '#2196f3', 3: '#ff9800', 4: '#9c27b0' };

      // Find weakest phases
      let weakPhases = Object.entries(scores)
        .filter(([p, s]) => s < totals[p])
        .sort((a, b) => (a[1] / totals[a[0]]) - (b[1] / totals[b[0]]));

      container.innerHTML = `
        <div class="cq-result">
          <h2>ç·åˆçµæœ</h2>
          <div class="cq-result-score">${pct}%</div>
          <p class="cq-result-detail">${totalCorrect} / ${questions.length} å•æ­£è§£</p>
          <div class="cq-result-feedback ${fbClass}">${fbText}</div>

          <div class="cq-weakness">
            <h4>Phaseåˆ¥ã‚¹ã‚³ã‚¢</h4>
            ${[1,2,3,4].map(p => `
              <div class="cq-weakness-item">
                <a href="${phaseLinks[p]}" style="min-width:140px;color:inherit;text-decoration:none;font-weight:600;">${phaseNames[p]}</a>
                <div class="cq-weakness-bar">
                  <div class="cq-weakness-fill" style="width:${(scores[p]/totals[p])*100}%;background:${phaseBarColors[p]}"></div>
                </div>
                <span style="min-width:50px;text-align:right;">${scores[p]}/${totals[p]}</span>
              </div>
            `).join('')}
          </div>

          ${weakPhases.length > 0 ? `
          <div style="margin-top:1.5rem;text-align:left;">
            <h4>å¾©ç¿’ãŠã™ã™ã‚</h4>
            <p style="font-size:0.9rem;color:var(--text-secondary);margin:0.5rem 0;">ä»¥ä¸‹ã®Phaseã‚’é‡ç‚¹çš„ã«å¾©ç¿’ã™ã‚‹ã¨åŠ¹æœçš„ã§ã™ï¼š</p>
            <ul style="font-size:0.9rem;line-height:2;">
              ${weakPhases.map(([p]) => `<li><a href="${phaseLinks[p]}">${phaseNames[p]}</a>ï¼ˆ${scores[p]}/${totals[p]}å•æ­£è§£ï¼‰</li>`).join('')}
            </ul>
          </div>` : ''}

          <button class="cq-retry-btn" onclick="location.reload()">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã™ã‚‹</button>
        </div>
      `;

      ProgressManager.saveQuizScore('phase5', 'comprehensive-quiz', totalCorrect, questions.length);
      ProgressManager.markTopicComplete('phase5', 'comprehensive-quiz');
      document.getElementById('pageNav').style.display = '';
    }

    renderQuestion();
  });
  </script>
</body>
</html>
