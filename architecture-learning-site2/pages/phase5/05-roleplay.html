<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>5-5. ãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤ï¼šåˆå›ææ¡ˆãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚° | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å­¦ç¿’ãƒ©ãƒ³ãƒ‰</title>
  <link rel="stylesheet" href="../../css/style.css">
  <link rel="stylesheet" href="../../css/components.css">
  <link rel="stylesheet" href="../../css/responsive.css">
  <style>
    /* ãƒãƒ£ãƒƒãƒˆUI */
    .rp-chat {
      max-height: 60vh;
      overflow-y: auto;
      padding: 1rem;
      background: #f5f2ed;
      border-radius: 12px;
      margin: 1rem 0;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    .rp-msg {
      display: flex;
      gap: 0.5rem;
      max-width: 85%;
    }
    .rp-msg-customer { align-self: flex-start; }
    .rp-msg-se { align-self: flex-start; }
    .rp-msg-sales { align-self: flex-end; flex-direction: row-reverse; }
    .rp-msg-narrator { align-self: center; max-width: 95%; }
    .rp-msg-avatar {
      width: 2.2rem; height: 2.2rem;
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 1.2rem;
      flex-shrink: 0;
      background: #fff;
    }
    .rp-msg-content {
      background: #fff;
      padding: 0.6rem 1rem;
      border-radius: 12px;
      font-size: 0.9rem;
      line-height: 1.7;
      box-shadow: 0 1px 2px rgba(0,0,0,0.08);
    }
    .rp-msg-sales .rp-msg-content { background: #e8eaf6; }
    .rp-msg-narrator .rp-msg-content {
      background: transparent;
      box-shadow: none;
      text-align: center;
      font-size: 0.85rem;
      color: var(--text-secondary);
      font-style: italic;
    }
    .rp-msg-name { font-size: 0.75rem; font-weight: 700; color: var(--text-secondary); margin-bottom: 0.2rem; }

    .rp-feedback {
      margin: 0.25rem 1rem;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      font-size: 0.85rem;
      line-height: 1.6;
    }
    .rp-feedback-good { background: #e8f5e9; border-left: 4px solid #4caf50; }
    .rp-feedback-ok { background: #fff3e0; border-left: 4px solid #ffa726; }
    .rp-feedback-bad { background: #fce4ec; border-left: 4px solid #ef5350; }

    .rp-choices {
      display: none;
      padding: 1rem;
      background: #fff;
      border: 2px solid var(--phase5-color);
      border-radius: 12px;
      margin: 0.5rem 0;
    }
    .rp-choice-prompt { font-size: 0.85rem; font-weight: 700; color: var(--phase5-color); margin-bottom: 0.75rem; }
    .rp-choice-btn {
      display: block;
      width: 100%;
      padding: 0.75rem 1rem;
      margin-bottom: 0.5rem;
      border: 2px solid #e0d8cf;
      border-radius: 8px;
      background: #fff;
      font-size: 0.9rem;
      text-align: left;
      cursor: pointer;
      font-family: inherit;
      line-height: 1.6;
      transition: all 0.2s;
    }
    .rp-choice-btn:hover { border-color: var(--phase5-color); background: #fff5f5; }

    /* çµæœ */
    .rp-result { text-align: center; padding: 1.5rem; background: #fff; border-radius: 12px; margin-top: 1rem; }
    .rp-result-title { font-size: 1.2rem; color: var(--phase5-color); }
    .rp-result-score { margin: 1rem 0; }
    .rp-result-pct { font-size: 2.5rem; font-weight: 700; display: block; }
    .rp-score-excellent .rp-result-pct { color: #4caf50; }
    .rp-score-good .rp-result-pct { color: #2196f3; }
    .rp-score-fair .rp-result-pct { color: #ff9800; }
    .rp-score-poor .rp-result-pct { color: #ef5350; }
    .rp-result-detail { font-size: 0.9rem; color: var(--text-secondary); }
    .rp-result-feedback { font-size: 1.05rem; margin: 1rem 0; line-height: 1.7; }
    .rp-restart-btn {
      padding: 0.6rem 1.5rem; border: 2px solid var(--phase5-color); border-radius: 8px;
      background: #fff; color: var(--phase5-color); font-weight: 700; cursor: pointer; font-family: inherit;
    }

    /* ä¿®äº†è¨¼ */
    .certificate-section { display: none; margin-top: 2rem; }
    .certificate-section.visible { display: block; }
    .cert-name-input {
      display: flex; gap: 0.5rem; align-items: center; justify-content: center;
      margin: 1.5rem 0; flex-wrap: wrap;
    }
    .cert-name-input input {
      padding: 0.6rem 1rem; border: 2px solid #e0d8cf; border-radius: 8px;
      font-size: 1rem; font-family: inherit; width: 250px;
    }
    .cert-name-input input:focus { outline: none; border-color: var(--phase5-color); }
    .cert-name-input button {
      padding: 0.6rem 1.5rem; background: var(--phase5-color); color: #fff;
      border: none; border-radius: 8px; font-weight: 700; cursor: pointer; font-family: inherit; font-size: 1rem;
    }
    .certificate {
      display: none;
      max-width: 600px;
      margin: 2rem auto;
      background: linear-gradient(135deg, #fffef5, #fff8f0);
      border: 4px double #c8a951;
      border-radius: 16px;
      padding: 2.5rem 2rem;
      text-align: center;
    }
    .certificate.visible { display: block; }
    .cert-title {
      font-size: 1.6rem; font-weight: 700;
      color: #8b6914;
      border-bottom: 2px solid #c8a951;
      padding-bottom: 0.5rem;
      margin-bottom: 1.5rem;
    }
    .cert-owl { font-size: 3rem; margin-bottom: 0.5rem; }
    .cert-name { font-size: 1.8rem; font-weight: 700; color: var(--text-primary); margin: 1rem 0; }
    .cert-body { font-size: 0.95rem; line-height: 2; color: var(--text-secondary); margin: 1rem 0; }
    .cert-date { font-size: 0.85rem; color: var(--text-secondary); margin-top: 1.5rem; }
    .cert-issuer { font-size: 0.9rem; font-weight: 700; color: #8b6914; margin-top: 0.5rem; }

    .cert-summary {
      max-width: 500px; margin: 1.5rem auto; text-align: left;
      background: #fff; border-radius: 12px; padding: 1.5rem;
      border: 1px solid #e0d8cf;
    }
    .cert-summary h4 { text-align: center; color: var(--phase5-color); margin: 0 0 1rem; }
    .cert-summary-row {
      display: flex; justify-content: space-between; align-items: center;
      padding: 0.4rem 0; border-bottom: 1px solid #f0ebe4; font-size: 0.9rem;
    }
    .cert-summary-row:last-child { border-bottom: none; }

    @media print {
      .site-header, .site-footer, .owl-box, .page-nav, .breadcrumb,
      .rp-chat, .rp-choices, .cert-name-input, .cert-summary, h1 { display: none; }
      .certificate { border: 3px double #8b6914; page-break-inside: avoid; display: block !important; }
    }
  </style>
</head>
<body data-phase="5">
  <header class="site-header">
    <div class="container">
      <a href="../../index.html" class="site-logo"><span class="owl-icon">ğŸ¦‰</span><span>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å­¦ç¿’ãƒ©ãƒ³ãƒ‰</span></a>
      <button class="nav-toggle" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã" aria-expanded="false">â˜°</button>
      <nav><ul class="nav-links">
        <li><a href="../../index.html">ãƒ›ãƒ¼ãƒ </a></li>
        <li><a href="../phase1/index.html">Phase 1</a></li>
        <li><a href="../phase2/index.html">Phase 2</a></li>
        <li><a href="../phase3/index.html">Phase 3</a></li>
        <li><a href="../phase4/index.html">Phase 4</a></li>
        <li><a href="index.html" class="active">Phase 5</a></li>
      </ul></nav>
    </div>
  </header>

  <main class="topic-page">
    <div class="container">
      <nav class="breadcrumb" aria-label="ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆ">
        <a href="../../index.html">ãƒ›ãƒ¼ãƒ </a><span class="separator">/</span>
        <a href="index.html">Phase 5</a><span class="separator">/</span>
        <span class="current">5-5. ãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤ï¼šåˆå›ææ¡ˆãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>
      </nav>

      <h1>5-5. ãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤ï¼šåˆå›ææ¡ˆãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h1>

      <div class="owl-box owl-intro">
        <div class="owl-box-content">
          <p class="owl-box-title">ãƒ•ã‚¯ãƒ­ã‚¦å…ˆç”Ÿã‚ˆã‚Š</p>
          <p>æœ€å¾Œã®å®Ÿè·µæ¼”ç¿’ã§ã™ï¼ã‚ãªãŸã¯ä¸­å …SIerã®å–¶æ¥­ã€‚ç‰©æµä¼æ¥­ã€Œãƒãƒ¤ãƒ†é‹è¼¸ã€ã®é…é€æœ€é©åŒ–DXã®åˆå›ææ¡ˆãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã€SEã®ä¸­æ‘ã•ã‚“ã¨ä¸€ç·’ã«å‚åŠ ã—ã¾ã™ã€‚é¡§å®¢ã®æƒ…ã‚·ã‚¹éƒ¨é•·ã®ç™ºè¨€ã«å¯¾ã—ã¦ã€<strong>å–¶æ¥­ã¨ã—ã¦ã©ã†ç™ºè¨€ã™ã‚‹ã‹</strong>ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚ãƒãƒ£ãƒƒãƒˆå½¢å¼ã§ä¼šè©±ãŒé€²ã¿ã¾ã™ï¼</p>
        </div>
      </div>

      <div id="roleplayContainer"></div>

      <!-- ä¿®äº†è¨¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <div class="certificate-section" id="certificateSection">
        <div class="owl-box owl-encourage">
          <div class="owl-box-content">
            <p class="owl-box-title">ğŸ¦‰ğŸ‰ ãŠã‚ã§ã¨ã†ï¼ã™ã¹ã¦ã®Phaseã‚’ã‚¯ãƒªã‚¢ã—ãŸã­ï¼</p>
            <p>ã‚­ãƒŸã¯ã‚‚ã†<strong>ã€Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒèªã‚Œã‚‹å–¶æ¥­ã€</strong>ã ã‚ˆã€‚ã“ã“ã§å­¦ã‚“ã ã“ã¨ã¯ã€ãŠå®¢æ§˜ã¨ã®ä¼šè©±ã‚„é–‹ç™ºãƒãƒ¼ãƒ ã¨ã®å”è­°ã§ãã£ã¨åŠ›ã«ãªã‚‹ã¯ãšã€‚ãƒ‡ãƒ¼ã‚¿ã®æ—…ã®æ¡ˆå†…äººã¨ã—ã¦ã€é ‘å¼µã£ã¦ã­ï¼â€¦â€¦ãã—ã¦ã„ã¤ã§ã‚‚å¾©ç¿’ã—ã«æˆ»ã£ã¦ãã¦ã­ï¼</p>
          </div>
        </div>

        <div class="cert-name-input" id="certNameInput">
          <input type="text" id="certNameField" placeholder="ã‚ãªãŸã®åå‰ã‚’å…¥åŠ›" maxlength="30">
          <button onclick="generateCertificate()">ä¿®äº†è¨¼ã‚’ç™ºè¡Œã™ã‚‹</button>
        </div>

        <div class="certificate" id="certificate">
          <div class="cert-owl">ğŸ¦‰</div>
          <div class="cert-title">ä¿® äº† è¨¼</div>
          <div class="cert-name" id="certName"></div>
          <div class="cert-body">
            ä¸Šè¨˜ã®æ–¹ã¯ã€Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å­¦ç¿’ãƒ©ãƒ³ãƒ‰ã€ã®<br>
            å…¨5ãƒ•ã‚§ãƒ¼ã‚ºã®ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã‚’ä¿®äº†ã—ã€<br>
            <strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒèªã‚Œã‚‹å–¶æ¥­</strong>ã¨ã—ã¦<br>
            èªå®šã„ãŸã—ã¾ã™ã€‚
          </div>
          <div class="cert-date" id="certDate"></div>
          <div class="cert-issuer">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å­¦ç¿’ãƒ©ãƒ³ãƒ‰ ãƒ•ã‚¯ãƒ­ã‚¦å…ˆç”Ÿ</div>
        </div>

        <div class="cert-summary" id="certSummary"></div>
      </div>

      <div class="page-nav">
        <a href="04-case-study-retail.html" class="page-nav-prev">
          <span class="page-nav-label">å‰ã®ãƒˆãƒ”ãƒƒã‚¯</span>
          <span class="page-nav-title">5-4. ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ï¼šå°å£²ã‚ªãƒ ãƒ‹ãƒãƒ£ãƒãƒ«</span>
        </a>
        <a href="../../index.html" class="page-nav-next">
          <span class="page-nav-label">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</span>
          <span class="page-nav-title">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å­¦ç¿’ãƒ©ãƒ³ãƒ‰</span>
        </a>
      </div>
    </div>
  </main>

  <footer class="site-footer"><div class="container"><p>å­¦ç¿’ã®é€²æ—ã¯è‡ªå‹•ä¿å­˜ã•ã‚Œã¾ã™ ğŸ¦‰</p><p>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å­¦ç¿’ãƒ©ãƒ³ãƒ‰ &copy; 2025</p></div></footer>
  <script src="../../js/progress.js"></script>
  <script src="../../js/app.js"></script>
  <script src="../../js/roleplay.js"></script>
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const scenario = {
      speakers: {
        customer: { name: 'ä½è—¤éƒ¨é•·ï¼ˆãƒãƒ¤ãƒ†é‹è¼¸ æƒ…ã‚·ã‚¹éƒ¨é•·ï¼‰', icon: 'ğŸ‘”' },
        sales: { name: 'ã‚ãªãŸï¼ˆå–¶æ¥­ï¼‰', icon: 'ğŸ§‘â€ğŸ’¼' },
        se: { name: 'ä¸­æ‘SE', icon: 'ğŸ‘¨â€ğŸ’»' },
        narrator: { name: 'ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³', icon: 'ğŸ“–' }
      },
      startNode: 'start',
      nodes: {
        // --- å°å…¥ ---
        start: {
          type: 'messages',
          messages: [
            { speaker: 'narrator', text: 'â€” ãƒãƒ¤ãƒ†é‹è¼¸ æœ¬ç¤¾ä¼šè­°å®¤ â€”' },
            { speaker: 'customer', text: 'æœ¬æ—¥ã¯ãŠè¶Šã—ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚æ—©é€Ÿã§ã™ãŒã€å¼Šç¤¾ã®èª²é¡Œã‚’ãŠä¼ãˆã—ã¾ã™ã€‚' },
            { speaker: 'customer', text: 'å½“ç¤¾ã¯å…¨å›½ã«30æ‹ ç‚¹ã®é…é€ã‚»ãƒ³ã‚¿ãƒ¼ãŒã‚ã‚Šã€1æ—¥ã‚ãŸã‚Šç´„10ä¸‡ä»¶ã®é…é€ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ç¾åœ¨ã€é…é€ãƒ«ãƒ¼ãƒˆã®æœ€é©åŒ–ã¯å„æ‹ ç‚¹ã®ãƒ™ãƒ†ãƒ©ãƒ³ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®çµŒé¨“ã«é ¼ã£ã¦ã„ã¾ã™ã€‚' },
            { speaker: 'customer', text: 'å±äººåŒ–ãŒé€²ã‚“ã§ã„ã¦ã€ãƒ™ãƒ†ãƒ©ãƒ³ãŒå¼•é€€ã™ã‚‹ã¨é…é€åŠ¹ç‡ãŒã‚¬ã‚¯ãƒƒã¨è½ã¡ã‚‹ã‚“ã§ã™ã€‚AIã‚’ä½¿ã£ã¦é…é€ãƒ«ãƒ¼ãƒˆã‚’è‡ªå‹•æœ€é©åŒ–ã—ãŸã„ã€‚ã‚ã¨ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§é…é€çŠ¶æ³ã‚’è¿½è·¡ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã§ã™ã€‚' }
          ],
          next: 'choice1'
        },

        // --- åˆ†å²1: æœ€åˆã®åå¿œ ---
        choice1: {
          type: 'choice',
          messages: [
            { speaker: 'narrator', text: 'ä½è—¤éƒ¨é•·ãŒæ¦‚è¦ã‚’è©±ã—çµ‚ãˆã¾ã—ãŸã€‚ã‚ãªãŸã®æœ€åˆã®åå¿œã¯ï¼Ÿ' }
          ],
          maxPoints: 3,
          choices: [
            {
              text: 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ã„ãã¤ã‹ç¢ºèªã•ã›ã¦ãã ã•ã„ã€‚ã€Œé…é€åŠ¹ç‡ãŒã‚¬ã‚¯ãƒƒã¨è½ã¡ã‚‹ã€ã¨ã®ã“ã¨ã§ã™ãŒã€å…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªå½±éŸ¿ãŒå‡ºã¦ã„ã¾ã™ã‹ï¼Ÿé‡‘é¡çš„ãªã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã¯ã©ã®ç¨‹åº¦ã§ã—ã‚‡ã†ã‹ï¼Ÿ',
              score: 3,
              feedback: 'âœ… ç´ æ™´ã‚‰ã—ã„ï¼èª²é¡Œã®å…·ä½“åŒ–ã¨å®šé‡åŒ–ã‚’åŒæ™‚ã«èã„ã¦ã„ã¾ã™ã€‚Phase 3ã®ãƒ’ã‚¢ãƒªãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å®Ÿè·µã§ãã¦ã„ã¾ã™ã€‚',
              next: 'after-choice1-good'
            },
            {
              text: 'ãªã‚‹ã»ã©ã€AIã§é…é€æœ€é©åŒ–ã§ã™ã­ã€‚æœ€è¿‘ã®AIæŠ€è¡“ãªã‚‰ååˆ†å®Ÿç¾å¯èƒ½ã§ã™ã€‚å½“ç¤¾ã«ã‚‚å®Ÿç¸¾ãŒã‚ã‚Šã¾ã™ã®ã§ã€ãœã²ãŠä»»ã›ãã ã•ã„ã€‚',
              score: 1,
              feedback: 'âš ï¸ ã¾ã è¦ä»¶ã‚’æ·±ãèã„ã¦ã„ãªã„æ®µéšã§ã€ŒãŠä»»ã›ãã ã•ã„ã€ã¯æ—©ã™ãã¾ã™ã€‚ã¾ãšã¯èª²é¡Œã®æ·±æ˜ã‚ŠãŒå…ˆã§ã™ã€‚',
              next: 'after-choice1-ok'
            },
            {
              text: 'ã‚ã‹ã‚Šã¾ã—ãŸã€‚ã§ã¯ã€ã¾ãšã‚·ã‚¹ãƒ†ãƒ ã®ç¾çŠ¶ã‚’ãŠèã‹ã›ã„ãŸã ã‘ã¾ã™ã‹ï¼Ÿç¾åœ¨ãŠä½¿ã„ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ä½•ã§ã™ã‹ï¼Ÿ',
              score: 2,
              feedback: 'ğŸ‘ ç¾çŠ¶æŠŠæ¡ã¯å¤§åˆ‡ã§ã™ãŒã€ã¾ãšãƒ“ã‚¸ãƒã‚¹èª²é¡Œï¼ˆå½±éŸ¿åº¦ãƒ»ç·Šæ€¥åº¦ï¼‰ã‚’æ·±æ˜ã‚Šã—ã¦ã‹ã‚‰ã®æ–¹ãŒã€ãŠå®¢æ§˜ã«ã€Œã¡ã‚ƒã‚“ã¨èª²é¡Œã‚’ç†è§£ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã€ã¨æ„Ÿã˜ã¦ã‚‚ã‚‰ãˆã¾ã™ã€‚',
              next: 'after-choice1-ok'
            }
          ]
        },

        'after-choice1-good': {
          type: 'messages',
          messages: [
            { speaker: 'customer', text: 'å…·ä½“çš„ã«è¨€ã†ã¨ã€ãƒ™ãƒ†ãƒ©ãƒ³ä¸åœ¨ã®æ‹ ç‚¹ã§ã¯é…é€å®Œäº†ç‡ãŒ15%ä¸‹ãŒã‚Šã€ç‡ƒæ–™ã‚³ã‚¹ãƒˆã‚‚æœˆã‚ãŸã‚Šæ•°ç™¾ä¸‡å††å¢—ãˆã¦ã„ã¾ã™ã€‚å…¨ç¤¾ã§å¹´é–“1ã€œ2å„„å††ã®ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã ã¨è©¦ç®—ã—ã¦ã„ã¾ã™ã€‚' },
            { speaker: 'customer', text: 'ãã‚Œã¨ã€ãŠå®¢æ§˜ã¸ã®é…é€æ™‚é–“ã®é€šçŸ¥ç²¾åº¦ã‚‚è½ã¡ã¦ã€ã‚¯ãƒ¬ãƒ¼ãƒ ãŒå¢—ãˆã¦ã„ã‚‹ã‚“ã§ã™ã€‚' }
          ],
          next: 'choice2'
        },

        'after-choice1-ok': {
          type: 'messages',
          messages: [
            { speaker: 'customer', text: 'ãã†ã§ã™ã­ã€ç¾çŠ¶ã¯å„æ‹ ç‚¹ã«Windowsã®ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªãŒã‚ã£ã¦ã€ãã“ã«é…é€å…ˆã‚’å…¥åŠ›ã™ã‚‹ã¨ãƒ«ãƒ¼ãƒˆãŒå‡ºã‚‹ã‚“ã§ã™ãŒã€æœ€é©åŒ–ã¯ã•ã‚Œã¦ã„ãªã„ã‚“ã§ã™ã€‚ãƒ™ãƒ†ãƒ©ãƒ³ãŒæ‰‹å‹•ã§èª¿æ•´ã—ã¦ã„ã¾ã™ã€‚' },
            { speaker: 'customer', text: 'å½±éŸ¿ã§è¨€ã†ã¨ã€å¹´é–“1ã€œ2å„„å††ã®ã‚³ã‚¹ãƒˆå¢—ã«ãªã£ã¦ã„ã‚‹ã¨è©¦ç®—ã—ã¦ã„ã¾ã™ã€‚' }
          ],
          next: 'choice2'
        },

        // --- åˆ†å²2: æŠ€è¡“ææ¡ˆã®å ´é¢ ---
        choice2: {
          type: 'choice',
          messages: [
            { speaker: 'se', text: 'æŠ€è¡“çš„ã«ã¯ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¿½è·¡ã«ã¯GPSãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿åé›†åŸºç›¤ãŒå¿…è¦ã§ã™ã­ã€‚é…é€æœ€é©åŒ–AIã«ã¤ã„ã¦ã¯ã‚¯ãƒ©ã‚¦ãƒ‰ã®æ©Ÿæ¢°å­¦ç¿’ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ´»ç”¨ã™ã‚‹æ–¹å‘ãŒã‚ˆã•ãã†ã§ã™ã€‚' },
            { speaker: 'narrator', text: 'SEã®ä¸­æ‘ã•ã‚“ãŒæŠ€è¡“æ¦‚è¦ã‚’èª¬æ˜ã—ã¾ã—ãŸã€‚ä½è—¤éƒ¨é•·ãŒè³ªå•ã—ã¾ã™ã€‚' },
            { speaker: 'customer', text: 'ã‚¯ãƒ©ã‚¦ãƒ‰ã§ã™ã‹â€¦â€¦ã€‚å½“ç¤¾ã¯ã“ã‚Œã¾ã§å…¨éƒ¨ã‚ªãƒ³ãƒ—ãƒ¬ã ã£ãŸã®ã§ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é¢ãŒå¿ƒé…ã§ã™ã€‚é…é€ãƒ‡ãƒ¼ã‚¿ã«ã¯é¡§å®¢ã®ä½æ‰€æƒ…å ±ã‚‚å«ã¾ã‚Œã¾ã™ã—ã€‚' }
          ],
          maxPoints: 3,
          choices: [
            {
              text: 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ã”æ‡¸å¿µã¯ã”ã‚‚ã£ã¨ã‚‚ã§ã™ã€‚ã‚¯ãƒ©ã‚¦ãƒ‰ã¯ã€Œå±é™ºã€ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å®Ÿã¯AWSã‚„Azureã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åŸºæº–ã¯å¤šãã®ä¼æ¥­ã®ã‚ªãƒ³ãƒ—ãƒ¬ç’°å¢ƒã‚ˆã‚Šé«˜ã„ãƒ¬ãƒ™ãƒ«ã§ã™ã€‚å…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªç‚¹ãŒã”å¿ƒé…ã§ã™ã‹ï¼Ÿ',
              score: 3,
              feedback: 'âœ… ãŠå®¢æ§˜ã®ä¸å®‰ã‚’å—ã‘æ­¢ã‚ãŸä¸Šã§ã€äº‹å®Ÿãƒ™ãƒ¼ã‚¹ã§å®‰å¿ƒæ„Ÿã‚’æä¾›ã—ã€ã•ã‚‰ã«å…·ä½“çš„ãªæ‡¸å¿µã‚’å¼•ãå‡ºã—ã¦ã„ã¾ã™ã€‚Phase 2ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çŸ¥è­˜ãŒæ´»ãã¦ã„ã¾ã™ã€‚',
              next: 'after-choice2'
            },
            {
              text: 'ã‚¯ãƒ©ã‚¦ãƒ‰ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯ä¸‡å…¨ã§ã™ã®ã§ã”å®‰å¿ƒãã ã•ã„ã€‚æœ€è¿‘ã¯ã©ã“ã‚‚ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’ä½¿ã£ã¦ã„ã¾ã™ã‚ˆã€‚',
              score: 0,
              feedback: 'âŒ ãŠå®¢æ§˜ã®æ‡¸å¿µã‚’è»½è¦–ã—ã¦ã„ã¾ã™ã€‚ã€Œä¸‡å…¨ã§ã™ã€ã®æ ¹æ‹ ã‚‚ãªãã€ä¸å®‰ã‚’æ‰•æ‹­ã§ãã¾ã›ã‚“ã€‚å…·ä½“çš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ã‚’èª¬æ˜ã™ã‚‹å§¿å‹¢ãŒå¤§åˆ‡ã§ã™ã€‚',
              next: 'after-choice2'
            },
            {
              text: 'ã§ã¯ã€ã‚ªãƒ³ãƒ—ãƒ¬ã§æ§‹ç¯‰ã™ã‚‹æ–¹å‘ã§æ¤œè¨ã—ã¾ã—ã‚‡ã†ã‹ï¼Ÿã‚¯ãƒ©ã‚¦ãƒ‰ãŒä¸å®‰ã§ã—ãŸã‚‰ã€‚',
              score: 1,
              feedback: 'âš ï¸ ãŠå®¢æ§˜ã®ä¸å®‰ã«å¯„ã‚Šæ·»ã†å§¿å‹¢ã¯è‰¯ã„ã§ã™ãŒã€ã™ãã«æ–¹é‡è»¢æ›ã™ã‚‹ã®ã¯ææ¡ˆåŠ›ã®æ¬ å¦‚ã«è¦‹ãˆã¾ã™ã€‚ã¾ãšä¸å®‰ã®å…·ä½“çš„å†…å®¹ã‚’èãã€é©åˆ‡ãªå¯¾ç­–ã‚’æç¤ºã™ã¹ãã§ã™ã€‚',
              next: 'after-choice2'
            }
          ]
        },

        'after-choice2': {
          type: 'messages',
          messages: [
            { speaker: 'customer', text: 'å…·ä½“çš„ã«ã¯ã€é¡§å®¢ã®å€‹äººæƒ…å ±ãŒã‚¯ãƒ©ã‚¦ãƒ‰ä¸Šã«ã‚ã‚‹ã“ã¨ã¸ã®ä¸å®‰ã¨ã€çµŒå–¶å±¤ã¸ã®èª¬æ˜ææ–™ãŒã»ã—ã„ã‚“ã§ã™ã€‚' },
            { speaker: 'se', text: 'å€‹äººæƒ…å ±ã®æš—å·åŒ–ã€ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã€ç›£æŸ»ãƒ­ã‚°ãªã©ã®å…·ä½“çš„ãªå¯¾ç­–ã‚’ã”èª¬æ˜ã§ãã¾ã™ã€‚ã¾ãŸã€ISMSã‚„SOC2ã®èªè¨¼ã‚’å–å¾—ã—ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã‚’é¸å®šã™ã‚Œã°ã€çµŒå–¶å±¤ã¸ã®èª¬æ˜ã‚‚ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚' }
          ],
          next: 'choice3'
        },

        // --- åˆ†å²3: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»äºˆç®— ---
        choice3: {
          type: 'choice',
          messages: [
            { speaker: 'customer', text: 'ãªã‚‹ã»ã©ã€ãã‚Œãªã‚‰å®‰å¿ƒã§ããã†ã§ã™ã€‚ã¨ã“ã‚ã§ã€äºˆç®—ã¯åˆå¹´åº¦5,000ä¸‡å††ã§ã€åŠå¹´ä»¥å†…ã«ä½•ã‹æˆæœã‚’å‡ºã—ãŸã„ã‚“ã§ã™ãŒã€‚æ­£ç›´ãªã¨ã“ã‚ã€ã©ã†ã§ã™ã‹ï¼Ÿ' }
          ],
          maxPoints: 3,
          choices: [
            {
              text: 'ç‡ç›´ã«ç”³ã—ä¸Šã’ã‚‹ã¨ã€é…é€æœ€é©åŒ–AIï¼‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¿½è·¡ã®å…¨æ©Ÿèƒ½ã‚’åŠå¹´ã§5,000ä¸‡å††ã¯é›£ã—ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãã“ã§ã”ææ¡ˆã§ã™ãŒã€ãƒ•ã‚§ãƒ¼ã‚ºåˆ†ã‘ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ï¼Ÿã¾ãšãƒ•ã‚§ãƒ¼ã‚º1ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¿½è·¡ã‚’3ãƒ¶æœˆã§ç¨¼åƒã•ã›ã€ãƒ•ã‚§ãƒ¼ã‚º2ã§AIæœ€é©åŒ–ã«å–ã‚Šçµ„ã‚€ã€‚å°ã•ãå§‹ã‚ã¦ç¢ºå®Ÿã«æˆæœã‚’ç©ã¿ä¸Šã’ã‚‹æˆ¦ç•¥ã§ã™ã€‚',
              score: 3,
              feedback: 'âœ… æ­£ç›´ã«ã‚¹ã‚³ãƒ¼ãƒ—ã®èª²é¡Œã‚’ä¼ãˆã¤ã¤ã€ãƒ•ã‚§ãƒ¼ã‚ºåˆ†ã‘ã¨ã„ã†å…·ä½“çš„ãªä»£æ›¿æ¡ˆã‚’æç¤ºã€‚ã€Œå°ã•ãå§‹ã‚ã‚‹ã€ã¯MVPæˆ¦ç•¥ã®å®Ÿè·µã§ã™ã€‚Phase 4ã®è¦‹ç©ã‚‚ã‚ŠçŸ¥è­˜ãŒæ´»ãã¦ã„ã¾ã™ã€‚',
              next: 'after-choice3'
            },
            {
              text: '5,000ä¸‡å††ã§åŠå¹´ã§ã™ã­ã€‚ç¤¾å†…ã§æ¤œè¨ã—ã¦ã€ä½•ã¨ã‹åã¾ã‚‹ã‚ˆã†ã«èª¿æ•´ã—ã¦ã¿ã¾ã™ã€‚',
              score: 0,
              feedback: 'âŒ ç„¡ç†ãªç´„æŸã¯å¾Œã§å¤§ããªå•é¡Œã«ãªã‚Šã¾ã™ã€‚å®Ÿç¾å¯èƒ½æ€§ã‚’æ­£ç›´ã«ä¼ãˆã€ä»£æ›¿æ¡ˆã‚’æç¤ºã™ã‚‹æ–¹ãŒãŠå®¢æ§˜ã®ä¿¡é ¼ã‚’å¾—ã‚‰ã‚Œã¾ã™ã€‚',
              next: 'after-choice3'
            },
            {
              text: 'ã¾ãšã¯æ­£å¼ãªè¦‹ç©ã‚‚ã‚Šã‚’å‡ºã•ã›ã¦ã„ãŸã ããŸã„ã®ã§ã™ãŒã€æ¦‚ç®—ã§åŠå¹´ãƒ»5,000ä¸‡å††ã«åã‚ã‚‹ã«ã¯ã‚¹ã‚³ãƒ¼ãƒ—ã®èª¿æ•´ãŒå¿…è¦ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚å„ªå…ˆé †ä½ã‚’ä¸€ç·’ã«æ•´ç†ã•ã›ã¦ãã ã•ã„ã€‚',
              score: 2,
              feedback: 'ğŸ‘ æ­£ç›´ã«ä¼ãˆã‚‹å§¿å‹¢ã¯è‰¯ã„ã§ã™ãŒã€ã‚‚ã†ä¸€æ­©è¸ã¿è¾¼ã‚“ã§ã€Œå…·ä½“çš„ãªãƒ•ã‚§ãƒ¼ã‚ºåˆ†ã‘æ¡ˆã€ã‚’æç¤ºã§ãã‚‹ã¨ã€ãŠå®¢æ§˜ã®æ„æ€æ±ºå®šã‚’åŠ©ã‘ã‚‰ã‚Œã¾ã™ã€‚',
              next: 'after-choice3'
            }
          ]
        },

        'after-choice3': {
          type: 'messages',
          messages: [
            { speaker: 'customer', text: 'ãƒ•ã‚§ãƒ¼ã‚ºåˆ†ã‘ã¯ç†ã«ã‹ãªã£ã¦ã„ã¾ã™ã­ã€‚ã¾ãšã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¿½è·¡ã‹ã‚‰å§‹ã‚ã‚‹ã®ã¯è‰¯ã•ãã†ã§ã™ã€‚ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®ä½ç½®ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¦‹ãˆã‚‹ã ã‘ã§ã‚‚ã€ç¾å ´ã¯ç›¸å½“åŠ©ã‹ã‚Šã¾ã™ã€‚' },
            { speaker: 'se', text: 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¿½è·¡ã§ã‚ã‚Œã°ã€GPSãƒ‡ãƒã‚¤ã‚¹ï¼‹ã‚¯ãƒ©ã‚¦ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿åé›†åŸºç›¤ï¼‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§æ§‹æˆã§ãã¾ã™ã€‚3ãƒ¶æœˆã¯ååˆ†ç¾å®Ÿçš„ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™ã€‚' }
          ],
          next: 'choice4'
        },

        // --- åˆ†å²4: ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚° ---
        choice4: {
          type: 'choice',
          messages: [
            { speaker: 'customer', text: 'æœ€å¾Œã«ã€å¾¡ç¤¾ã«ãŠé¡˜ã„ã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆã‚’æ”¹ã‚ã¦æ•™ãˆã¦ãã ã•ã„ã€‚æ­£ç›´ã€ä»–ç¤¾ã•ã‚“ã«ã‚‚å£°ã‚’ã‹ã‘ã¦ã„ã¾ã™ã€‚' }
          ],
          maxPoints: 3,
          choices: [
            {
              text: 'å½“ç¤¾ã®å¼·ã¿ã¯3ã¤ã‚ã‚Šã¾ã™ã€‚ã¾ãšã€ç‰©æµæ¥­ç•Œã®DXå®Ÿç¸¾ãŒã‚ã‚‹ã“ã¨ã€‚æ¬¡ã«ã€ä»Šæ—¥ã®ãƒ’ã‚¢ãƒªãƒ³ã‚°ã§ãŠä¼ºã„ã—ãŸå¾¡ç¤¾ã®èª²é¡Œâ€”â€”å±äººåŒ–ã«ã‚ˆã‚‹ã‚³ã‚¹ãƒˆå¢—ã¨ãŠå®¢æ§˜ã¸ã®å½±éŸ¿â€”â€”ã‚’æ­£ç¢ºã«ç†è§£ã—ã¦ã„ã‚‹ã“ã¨ã€‚ãã—ã¦ã€ãƒ•ã‚§ãƒ¼ã‚ºåˆ†ã‘ã§ç¢ºå®Ÿã«æˆæœã‚’å‡ºã—ã¦ã„ãã‚¢ãƒ—ãƒ­ãƒ¼ãƒã€‚ã€Œã¾ãš3ãƒ¶æœˆã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¿½è·¡ã‚’ç¨¼åƒã•ã›ã€ãã®åŠ¹æœã‚’è¦‹ãªãŒã‚‰æ¬¡ã‚’åˆ¤æ–­ã™ã‚‹ã€ã“ã¨ã§ã€ãƒªã‚¹ã‚¯ã‚’æœ€å°åŒ–ã§ãã¾ã™ã€‚',
              score: 3,
              feedback: 'âœ… å®Œç’§ãªã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°ã§ã™ï¼å®Ÿç¸¾ãƒ»èª²é¡Œç†è§£ãƒ»å…·ä½“çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®3ç‚¹ã‚’ã¾ã¨ã‚ã€ãŠå®¢æ§˜å›ºæœ‰ã®èª²é¡Œã«ãƒªãƒ³ã‚¯ã•ã›ã¦ã„ã¾ã™ã€‚',
              next: 'ending'
            },
            {
              text: 'å½“ç¤¾ã¯æœ€æ–°ã®AIæŠ€è¡“ã¨ã‚¯ãƒ©ã‚¦ãƒ‰æŠ€è¡“ã«å¼·ã¿ãŒã‚ã‚Šã¾ã™ã€‚å¤šãã®å°å…¥å®Ÿç¸¾ã‚‚ã”ã–ã„ã¾ã™ã®ã§ã€å®‰å¿ƒã—ã¦ãŠä»»ã›ãã ã•ã„ã€‚',
              score: 1,
              feedback: 'âš ï¸ ä¸€èˆ¬çš„ã™ãã¾ã™ã€‚ãŠå®¢æ§˜å›ºæœ‰ã®èª²é¡Œã«ç´ã¥ã‘ãŸå…·ä½“çš„ãªææ¡ˆåŠ›ã‚’ç¤ºã™ã¨ã€ä»–ç¤¾ã¨ã®å·®åˆ¥åŒ–ã«ãªã‚Šã¾ã™ã€‚',
              next: 'ending'
            },
            {
              text: 'ä¾¡æ ¼é¢ã§ã¯ä»–ç¤¾ã•ã‚“ã¨æ¯”è¼ƒã—ã¦ã„ãŸã ã„ã¦æ§‹ã„ã¾ã›ã‚“ã€‚ã¾ãšã¯æ­£å¼ãªææ¡ˆæ›¸ã‚’ãŠæŒã¡ã—ã¾ã™ã®ã§ã€ãã®ä¸Šã§ã”åˆ¤æ–­ã„ãŸã ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚',
              score: 1,
              feedback: 'âš ï¸ ä¾¡æ ¼ç«¶äº‰ã«å·»ãè¾¼ã¾ã‚Œã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚ã€Œãªãœè‡ªç¤¾ã«ä»»ã›ã‚‹ã¹ãã‹ã€ã®ä¾¡å€¤ã‚’æ˜ç¢ºã«ä¼ãˆã‚‹ã¹ãã§ã™ã€‚',
              next: 'ending'
            }
          ]
        },

        // --- ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚° ---
        ending: {
          type: 'end',
          messages: [
            { speaker: 'customer', text: 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ãœã²æ­£å¼ãªææ¡ˆæ›¸ã‚’æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã™ã€‚' },
            { speaker: 'narrator', text: 'â€” ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°çµ‚äº† â€”' }
          ],
          summary: 'ç‰©æµä¼æ¥­ã€Œãƒãƒ¤ãƒ†é‹è¼¸ã€ã®é…é€æœ€é©åŒ–DXã®åˆå›ææ¡ˆãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒçµ‚äº†ã—ã¾ã—ãŸã€‚ãŠå®¢æ§˜ã®èª²é¡Œã‚’æ·±æ˜ã‚Šã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ä¸å®‰ã«å¿œãˆã€ç¾å®Ÿçš„ãªãƒ•ã‚§ãƒ¼ã‚ºåˆ†ã‘ã‚’ææ¡ˆã—ã€è‡ªç¤¾ã®å¼·ã¿ã‚’ä¼ãˆã‚‹â€”â€”ã“ã®ä¸€é€£ã®æµã‚ŒãŒPhase 1ã€œ4ã§å­¦ã‚“ã ã‚¹ã‚­ãƒ«ã®å®Ÿè·µã§ã™ã€‚'
        }
      }
    };

    RoleplayEngine.init('roleplayContainer', scenario);

    // ãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤çµæœãŒå‡ºãŸã‚‰å®Œäº†ãƒãƒ¼ã‚¯ï¼‹ä¿®äº†è¨¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤º
    const observer = new MutationObserver(() => {
      if (document.querySelector('.rp-result')) {
        ProgressManager.markTopicComplete('phase5', 'roleplay');
        document.getElementById('certificateSection').classList.add('visible');
        observer.disconnect();
      }
    });
    observer.observe(document.getElementById('roleplayContainer'), { childList: true, subtree: true });
  });

  function generateCertificate() {
    const name = document.getElementById('certNameField').value.trim();
    if (!name) { document.getElementById('certNameField').focus(); return; }

    document.getElementById('certName').textContent = name + ' æ®¿';
    const now = new Date();
    document.getElementById('certDate').textContent =
      `${now.getFullYear()}å¹´${now.getMonth()+1}æœˆ${now.getDate()}æ—¥`;

    document.getElementById('certificate').classList.add('visible');
    document.getElementById('certNameInput').style.display = 'none';

    // ã‚µãƒãƒªãƒ¼ç”Ÿæˆ
    const structure = ProgressManager.getPhaseStructure();
    const phaseNames = {
      phase1: 'Phase 1: ãƒ‡ãƒ¼ã‚¿ã®æ—… - åŸºç¤ç·¨',
      phase2: 'Phase 2: æ—…ã®å®‰å…¨ã‚’å®ˆã‚‹',
      phase3: 'Phase 3: æ—…ã®ãƒ«ãƒ¼ãƒˆã‚’è¨­è¨ˆã™ã‚‹',
      phase4: 'Phase 4: æ—…ã®ä»²é–“ã¨è©±ã™',
      phase5: 'Phase 5: æ—…ã®æ¡ˆå†…äººã«ãªã‚‹'
    };
    let summaryHTML = '<h4>å­¦ç¿’ã‚µãƒãƒªãƒ¼</h4>';
    for (const [phaseId, phaseName] of Object.entries(phaseNames)) {
      const p = ProgressManager.getPhaseProgress(phaseId);
      summaryHTML += `<div class="cert-summary-row">
        <span>${phaseName}</span>
        <span>${p.completed}/${p.total} å®Œäº†</span>
      </div>`;
    }
    const overall = ProgressManager.getOverallProgress();
    summaryHTML += `<div class="cert-summary-row" style="font-weight:700;border-top:2px solid #e0d8cf;padding-top:0.5rem;margin-top:0.25rem;">
      <span>ç·åˆé€²æ—</span>
      <span>${overall.completed}/${overall.total}ï¼ˆ${overall.percentage}%ï¼‰</span>
    </div>`;

    document.getElementById('certSummary').innerHTML = summaryHTML;
    document.getElementById('certificate').scrollIntoView({ behavior: 'smooth', block: 'center' });
  }
  </script>
</body>
</html>
